
@model IEnumerable<Person>

@{
    double? GetAge(DateTime? dateofBirth)
    {
        if(dateofBirth is not null)
        {
            return Math.Round((DateTime.Now - dateofBirth.Value).TotalDays / 365);
        }
        else
        {
            return null;
        }
    }    
}
<!Doctype html>
<html>
    <head>
        <title>@ViewBag.appTitle</title>
        <meta charset="utf-8"/>
        <link href="~/StyleSheet.css" rel="stylesheet">
    </head>
    <body>
        <div class="page-content">
            <h1>@ViewBag.header</h1>
                
            @foreach(Person p in Model)
                {
                    <div class="box float-left w-50">
                    <h3>@p.Name</h3>
                            <table class="table w-100">
                                <tbody>
                                    <tr>
                                        <td>Gender</td>
                                        <td>@p.PersonGender</td>
                                    </tr>
                                    <tr>
                                        <td>Age</td>
                                        <td>@GetAge(@p.DOB)</td>
                                    </tr>
                                    <tr>
                                        <td>Date Of Birth</td>
                                        <td>@p.DOB?.ToString("MM/dd/yyyy")</td>
                                    </tr>                                    
                                </tbody>                                                               
                            </table>
                            <div>
                                <a href="/person-details/@p.Name">Details</a>
                            </div>
                            <div>
                                <a href="/person-with-product">Perso with Product</a>
                            </div>
                    </div>                                       
                }           
        </div>      
</body>
</html>